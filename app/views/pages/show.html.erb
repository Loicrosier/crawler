
<div class="container-error">
<% if @errors.count > 0 %>
  <div class="errors">
<%# check meta title present ou pas %>
      <% if @errors.include?('pas de meta title')%>
        <p class="erreur">pas de meta title</p>
        <% else %>
          <p class="pas-derreur">pas de meta title</p>
      <% end %>
  <%# check meta title si trop court %>
  <% if @errors.to_s.scan(/meta title trop court/).count >= 1 %>
    <p class="erreur">meta title trop court (-30 char)</p>
  <% else %>
    <p class="pas-derreur">meta title trop court (-30 char)</p>
  <% end %>

  <%# check meta title si trop long %>
      <% if @errors.to_s.scan(/meta title trop long/).count >= 1 %>
          <p class='erreur'>meta title trop long (+60 char)</p>
        <% else %>
          <p class='pas-derreur'>meta title trop long (+60 char)</p>
        <% end %>


  <%# ##### meta description check %>

        <%# check meta description es presente %>
        <% if @errors.include?('pas de meta description') %>
            <p class="erreur">pas de meta description</p>
          <% else %>
            <p class="pas-derreur">pas de meta description</p>
        <% end %>

        <%# check meta description si trop courte %>
        <% if @errors.to_s.scan(/meta description trop courte/).count >= 1 %>
            <p class="erreur">meta description trop courte (-70 char)</p>
          <% else %>
            <p class="pas-derreur">meta description trop courte (-70 char)</p>
        <% end %>

        <%# check meta description taille es trop grande ou pas %>

        <% if @errors.to_s.scan(/meta description trop longue/).count >= 1 %>
          <p class='erreur'>meta description trop long (+155 char)</p>
        <% else %>
          <p class='pas-derreur'>meta description trop long (+155 char)</p>
        <% end %>

    <%# check title (les h) %>

        <%# check si il y a des balise h1 double %>

        <% if @errors.include?('h1 double') %>
          <p class="erreur">il y a plusieurs balise H1</p>
        <% else %>
          <p class="pas-derreur">il y a plusieurs balise H1</p>
        <% end %>

        <%# check si il y a des titres identiques %>

        <% if @errors.to_s.scan(/TITRES DUPLIQUER/).count >= 1 %>
          <p class="erreur">il y a des titres duplicate </p>
        <% else %>
          <p class="pas-derreur">il y a des titres duplicate</p>
        <% end %>

      <%# check de la tailles si trop long %>

        <% if @errors.to_s.scan(/HX avec trop de char/).count >= 1 %>
          <p class="erreur"> il y un ou plusieurs titres trop long (+70 char)</p>
        <% else %>
          <p class="pas-derreur"> il y un ou plusieurs titres trop long (+70 char)</p>
        <% end %>

    <%# CHECK DES IMG %>

        <%#  check si alt des images presente %>

        <% if @errors.to_s.scan(/pas d'alt sur l'image/).count >= 1 %>
          <p class="erreur"> il y a un ou plusieurs images sans alt </p>
        <% else %>
          <p class="pas-derreur"> il y a un ou plusieurs images sans alt </p>
        <% end %>

        <%# check si alt de l'image est trop grande %>

        <% if @errors.to_s.scan(/alt de l'image trop longue/).count >= 1 %>
          <p class="erreur"> il y a un ou plusieurs images avec une alt trop longue (+125 char) </p>
        <% else %>
          <p class="pas-derreur"> il y a un ou plusieurs images avec une alt trop longue (+125 char) </p>
        <% end %>

        <%# LIEN CANONICAL %>

        <%# check si il y a un lien canonique %>

         <% if @errors.include?('pas de canonical') %>
          <p class="erreur">pas de lien canonical </p>
        <% else %>
          <p class="pas-derreur">pas de lien canonical </p>
        <% end %>

        <%# Partie check des urls %>

        <%# check si il y a des url avec underscore %>

        <% if @errors.to_s.scan(/lien avec underscore/).count >= 1 %>
          <p class="erreur"> il y a un ou plusieurs lien avec underscore </p>
        <% else %>
          <p class="pas-derreur"> il y a un ou plusieurs lien avec underscore </p>
        <% end %>

        <%# check si il y a des url d'image avec underscore %>

        <% if @errors.to_s.scan(/image avec underscore/).count >= 1 %>
          <p class="erreur"> il y a un ou plusieurs lien d'image avec underscore </p>
        <% else %>
          <p class="pas-derreur"> il y a un ou plusieurs lien d'image avec underscore </p>
        <% end %>

        <%# check si nofollow present %>

        <% if @errors.include?('pas de nofollow') %>
          <p class="erreur"> pas de nofollow </p>
        <% else %>
          <p class="pas-derreur"> pas de nofollow </p>
        <% end %>

        <%# check lien externe avec rel nofollow present %>

        <% if @errors.include?('lien externe avec rel nofollow') %>
          <p class="erreur"> lien externe avec rel nofollow </p>
        <% else %>
          <p class="pas-derreur"> lien externe avec rel nofollow </p>
        <% end %>

    <%# check div result %>

      <% if @errors.include?("Il y a une div pas fermée") %>
          <p class='erreur'>Div pas fermée</p>
        <% else %>
          <p class='pas-derreur'>Div pas fermée</p>
        <% end %>
  <%# check si erreur d'ordonnancement %>
      <% if @errors.to_s.scan(/la balise H1 n'est pas la premiere/).count >= 1 || @errors.to_s.scan(/erreur DE BALISE/).count >= 1 %>
        <p class="erreur"> erreurs d'ordonnancement </p>
      <% else %>
        <p class="pas-derreur"> erreurs d'ordonnancement </p>
      <% end %>
  </div>

  <% end  %> <%# end di si erreurs sup a 0%>

</div>

<%####################### div erreur détailler ################################### %>
<div class="erreur-detailler">
  <h1>Détailler</h1>
  <% @errors.each do |error| %>
    <p><%= error %></p>
  <% end %>
</div>

<%# ############################################################################# %>
